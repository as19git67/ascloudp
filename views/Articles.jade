extends layout
block content
    if canEdit
        style .articleListItem:hover { cursor: pointer; }
        style .articleNew:hover { cursor: pointer; }
    if error
        p.text-danger #{error}
    if Records && Records.length > 0
        h1
            u #{page.EntityNamePlural}
            if canEdit
                | &nbsp;
                span(class='articleNew' data-pageid='#{page.Name}') +
        each record in Records
            div(class="row articleListItem", data-id='#{record.article_id}')
                div(class="col-lg-10 col-md-11 col-xs-12")
                    if record.author
                        p.small Von: #{record.author}, #{record.date_formatted}
                    if record.notPublished
                        p.text-warning
                            strong Dieser Artikel wird von #{record.publish_start_formatted} bis #{record.publish_end_formatted} ver√∂ffentlicht
                    if record.rawHtml
                        div !{record.rawHtml}
                    hr

        if canEdit
            script(src="/lib/underscore-1.7.0/underscore.js", type="text/javascript")
            script(src="/lib/moment-2.8.3/moment-with-locales.js", type="text/javascript")
            script(src="/lib/angular-1.3.8/angular.js", type="text/javascript")
            script(src="/lib/angular-1.3.8/angular-cookies.js", type="text/javascript")
            script(src="/lib/angular-bootstrap/ui-bootstrap.js", type="text/javascript")
            script(src="/lib/angular-bootstrap/ui-bootstrap-tpls.js", type="text/javascript")
            script(src="/lib/rho-0.2.3/rho.min.js", type="text/javascript")
            script(src="/lib/ng-flow-2.6.0/ng-flow-standalone.js", type="text/javascript")
            include ArticleTemplate.html
            script(src="/javascripts/ArticlesApp.js", type="text/javascript")
    else
        p.text-info Keine #{page.EntityNamePlural} zum Anzeigen
