extends layout
block content
    if canEdit
        style .articleListItem:hover { cursor: pointer; }
        style .articleNew:hover { cursor: pointer; }
    if error
        p.text-danger #{error}

    h1
        u #{page.EntityNamePlural}
        if canEdit
            | &nbsp;
            span(class='articleNew' data-pageid='#{page.Name}') +
        else
            if !Records || Records.length == 0
                p.text-info Keine #{page.EntityNamePlural} zum Anzeigen
    each record in Records
        div(class="media articleListItem", data-id='#{record.article_id}')
            if record.image
                div.media-left
                    a(href="#")
                        img(src="#{record.image}?type=thumbnail")
            div.media-body
                if record.title
                    h4.media-heading #{record.title}
                else
                    h4.media-heading Artikel: #{record.article_id}
                //if record.author
                //    p.small Von: #{record.author}, #{record.date_formatted}
                if record.rawHtml
                    div !{record.rawHtml}

    if canEdit
        script(src="/lib/underscore-1.7.0/underscore.js", type="text/javascript")
        script(src="/lib/moment-2.8.3/moment-with-locales.js", type="text/javascript")
        script(src="/lib/angular-1.3.8/angular.js", type="text/javascript")
        script(src="/lib/angular-1.3.8/angular-cookies.js", type="text/javascript")
        script(src="/lib/angular-bootstrap/ui-bootstrap.js", type="text/javascript")
        script(src="/lib/angular-bootstrap/ui-bootstrap-tpls.js", type="text/javascript")
        script(src="/lib/rho-0.2.3/rho.min.js", type="text/javascript")
        script(src="/lib/flow-2.9.0/flow.js", type="text/javascript")
        script(src="/lib/ng-flow-2.6.0/ng-flow.js", type="text/javascript")
        include ArticleTemplate.html
        script(src="/javascripts/ArticlesApp.js", type="text/javascript")

