extends layout
block content
    if canEdit
        style .articleListItem:hover { cursor: pointer; }
        style .articleNew:hover { cursor: pointer; }
    if error
        p.text-danger #{error}
    if Records && Records.length > 0
        h1
            u #{page.EntityNamePlural}
        each record in Records
            div(class="row articleListItem", data-id='#{record.article_id}')
                div(class="col-lg-10 col-md-11 col-xs-12")
                    if record.title
                        h3 #{record.title}
                    if record.author
                        p.small Von: #{record.author}, #{record.date_formatted}
                    if record.subtitle
                        h4 #{record.subtitle}
                    if record.sections && record.sections.length > 0
                        each section in record.sections
                            if section.title
                                h5 #{section.title}
                            if section.rawHtml
                            | !{section.rawHtml}
                            if section.imageUrl
                                if section.imageDescription
                                    img(src='#{section.imageUrl}', alternate='#{section.imageDescription}')
                                    br
                                    div.small #{section.imageDescription}
                                else
                                    img(src='#{section.imageUrl}')
                    if record.references && record.references.length > 0
                        h4 Quellenangaben:
                        each reference in record.references
                            p #{reference.text}

        if canEdit
            script(src="/lib/underscore-1.7.0/underscore.js", type="text/javascript")
            script(src="/lib/handlebars-v1.3.0.js", type="text/javascript")
            script(src="/lib/backbone-1.1.2/backbone.js", type="text/javascript")
            script(src="/lib/backbone.marionette-2.2.0/backbone.marionette.js", type="text/javascript")
            script(src="/lib/alpaca-1.5.4/alpaca.min.js", type="text/javascript")
            include ArticleTemplate.html
            script(src="/javascripts/ArticlesApp.js", type="text/javascript")
    else
        p.text-info Keine #{page.EntityNamePlural} zum Anzeigen
